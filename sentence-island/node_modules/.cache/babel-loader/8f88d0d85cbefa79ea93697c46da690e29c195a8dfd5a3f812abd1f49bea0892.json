{"ast":null,"code":"import React,{useState,useEffect}from'react';import'../styles/MessageCard.css';import{categories}from'../data/sentences';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MessageCard=_ref=>{let{sentence,isVisible,onClose}=_ref;const[displayedText,setDisplayedText]=useState('');const[isTyping,setIsTyping]=useState(false);useEffect(()=>{if(isVisible&&sentence){setDisplayedText('');setIsTyping(true);let index=0;const typingInterval=setInterval(()=>{if(index<=sentence.text.length){setDisplayedText(sentence.text.slice(0,index));index++;}else{setIsTyping(false);clearInterval(typingInterval);}},50);return()=>clearInterval(typingInterval);}},[sentence,isVisible]);if(!isVisible||!sentence)return null;const category=categories[sentence.category]||categories.all;return/*#__PURE__*/_jsx(\"div\",{className:\"message-card-overlay \".concat(isVisible?'visible':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"message-card\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\u2715\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-badge\",style:{backgroundColor:category.color},children:[/*#__PURE__*/_jsx(\"span\",{className:\"category-emoji\",children:category.emoji}),/*#__PURE__*/_jsx(\"span\",{className:\"category-name\",children:category.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"message-text\",children:[\"\\\"\",displayedText,\"\\\"\",isTyping&&/*#__PURE__*/_jsx(\"span\",{className:\"typing-cursor\",children:\"|\"})]}),!isTyping&&/*#__PURE__*/_jsxs(\"div\",{className:\"message-meta\",children:[sentence.author&&/*#__PURE__*/_jsxs(\"p\",{className:\"message-author\",children:[\"- \",sentence.author]}),sentence.book&&/*#__PURE__*/_jsxs(\"p\",{className:\"message-book\",children:[\"\\u300E\",sentence.book,\"\\u300F\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-decorations\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"decoration decoration-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"decoration decoration-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"decoration decoration-3\"})]})]})});};export default MessageCard;","map":{"version":3,"names":["React","useState","useEffect","categories","jsx","_jsx","jsxs","_jsxs","MessageCard","_ref","sentence","isVisible","onClose","displayedText","setDisplayedText","isTyping","setIsTyping","index","typingInterval","setInterval","text","length","slice","clearInterval","category","all","className","concat","children","onClick","style","backgroundColor","color","emoji","name","author","book"],"sources":["/mnt/c/Users/Administrator/Downloads/si/sentence-island/src/components/MessageCard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../styles/MessageCard.css';\nimport { categories } from '../data/sentences';\n\nconst MessageCard = ({ sentence, isVisible, onClose }) => {\n  const [displayedText, setDisplayedText] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n\n  useEffect(() => {\n    if (isVisible && sentence) {\n      setDisplayedText('');\n      setIsTyping(true);\n      \n      let index = 0;\n      const typingInterval = setInterval(() => {\n        if (index <= sentence.text.length) {\n          setDisplayedText(sentence.text.slice(0, index));\n          index++;\n        } else {\n          setIsTyping(false);\n          clearInterval(typingInterval);\n        }\n      }, 50);\n\n      return () => clearInterval(typingInterval);\n    }\n  }, [sentence, isVisible]);\n\n  if (!isVisible || !sentence) return null;\n\n  const category = categories[sentence.category] || categories.all;\n\n  return (\n    <div className={`message-card-overlay ${isVisible ? 'visible' : ''}`}>\n      <div className=\"message-card\">\n        <button className=\"close-button\" onClick={onClose}>\n          ✕\n        </button>\n        \n        <div \n          className=\"category-badge\"\n          style={{ backgroundColor: category.color }}\n        >\n          <span className=\"category-emoji\">{category.emoji}</span>\n          <span className=\"category-name\">{category.name}</span>\n        </div>\n        \n        <div className=\"message-content\">\n          <p className=\"message-text\">\n            \"{displayedText}\"\n            {isTyping && <span className=\"typing-cursor\">|</span>}\n          </p>\n          \n          {!isTyping && (\n            <div className=\"message-meta\">\n              {sentence.author && (\n                <p className=\"message-author\">- {sentence.author}</p>\n              )}\n              {sentence.book && (\n                <p className=\"message-book\">『{sentence.book}』</p>\n              )}\n            </div>\n          )}\n        </div>\n        \n        <div className=\"message-decorations\">\n          <div className=\"decoration decoration-1\"></div>\n          <div className=\"decoration decoration-2\"></div>\n          <div className=\"decoration decoration-3\"></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessageCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}